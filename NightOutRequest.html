<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Night out Form to Email using Javascript</title>
        <link rel = "stylesheet" href = "ServiceRequestStyle.css">
    </head>
    <body>
        <div class = "container">
            <form onsubmit="sendEmail(); reset(); return false;">
                <h3>Night Out Request</h3>
                <input type="text" id="name" placeholder="Your Name" required>
                <input type="text" id="room" placeholder="Room no." required>
                <input type="email" id="email" placeholder="Email id" required>
                <input type="text" id="enroll" placeholder="Enrollment no." required>
                <input placeholder="Date out" type="text" onfocus="(this.type='date')" id="out" required>
                <input placeholder="Date in" type="text" onfocus="(this.type='date')" id="in" required>
                <textarea id="message" rows="2" placeholder="Reason for visit?"></textarea>
                <button type="submit">Send</button>
            </form>
        </div>
        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <script>
            function sendEmail()
            {
                Email.send({
                    SecureToken: "053dd6fb-1fb8-42fa-a8fe-c08dd1fc711d",
                    Host : "smtp.elasticemail.com",
                    Username : "sarthakgupta.cs@gmail.com",
                    Password : "A948546D8E4DE3361F042998B021E6ADE871",
                    To : "sarthakgupta.univ@gmail.com",
                    From : document.getElementById("email").value,
                    Subject : "Night out Request",
                    Body : "Name: " + document.getElementById("name").value
                        + "<br>Room no. : " + document.getElementById("room").value
                        + "<br>Email: " + document.getElementById("email").value
                        + "<br>Enrollment no: " + document.getElementById("enroll").value
                        + "<br>Date out: " + document.getElementById("out").value
                        + "<br>Date in: " + document.getElementById("in").value
                        + "<br>message: " + document.getElementById("message").value
                }).then(
                message => alert(message) <!-- "Message Sent Successfully"-->
                );
            }
        </script>
    </body>
</html>
